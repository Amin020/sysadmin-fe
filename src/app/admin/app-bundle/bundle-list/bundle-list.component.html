<div>

  <!-- Basic example -->
  <div class="row">
    <div class="col-md-12 mx-auto text-center mt-1">
      <div class="card card-cascade narrower">

        <!--Card image-->
        <div
          class="view view-cascade gradient-card-header blue-gradient narrower py-2 mx-3 mb-3 d-flex justify-content-left align-items-left">

          <h6 class="white-text font-weight-bold text-uppercase mb-0 mr-auto">
            {{ 'all-feature-bundle.appBundles' | translate }}
          </h6>
          <a mdbBtn size="sm" color="primary" rounded="true" mdbWavesEffect routerLink="./create-app-bundle">
            <mdb-icon fas icon="plus"></mdb-icon> {{ 'all-feature-bundle.newBundle' | translate }}
          </a>
        </div>
        <!--/Card image-->
        <mdb-spinner *ngIf="loading" spinnerColor="blue"></mdb-spinner>
        <div *ngIf="!loading">
          <div class="px-4">

            <!--Table-->
            <table class="table table-hover table-responsive-md mb-0 bundlesTable">

              <!--Table head-->
              <thead>
                <tr>
                  <th id="" scope="row"> # </th>
                  <th id="" class="th-lg"> {{ 'all-feature-bundle.code' | translate }} </th>
                  <th id="" class="th-lg"> {{ 'all-feature-bundle.name' | translate }} </th>
                  <th id="" class="th-lg"> {{ 'all-feature-bundle.type' | translate }} </th>
                  <th id="" class="th-lg"> {{ 'all-feature-bundle.validDate' | translate }} </th>
                  <th id="" class="th-lg"> {{ 'all-feature-bundle.status' | translate }} </th>
                  <th id="" class="th-lg"> {{ 'all-feature-bundle.actions' | translate }} </th>
                </tr>
              </thead>
              <!--Table head-->

              <!--Table body-->
              <tbody *ngIf="!noDataFound">
                <tr *ngFor="let bundle of bundles | slice:firstVisibleIndex:lastVisibleIndex; let i = index">
                  <th px-3 scope="row" [routerLink]="['/bundles', bundle.id]">
                    {{ bundle.id }}
                  </th>
                  <td [routerLink]="['/bundles', bundle.id]">
                    {{ bundle.code }}
                  </td>
                  <td [routerLink]="['/bundles', bundle.id]">
                    {{ bundle.name }}
                  </td>
                  <td [routerLink]="['/bundles', bundle.id]">
                    {{ bundle.type }}
                  </td>
                  <td [routerLink]="['/bundles', bundle.id]">
                    {{ bundle.validDate }}
                  </td>
                  <td *ngIf="i >= firstVisibleIndex && i <= lastVisibleIndex">
                    {{ bundle.status }}
                  </td>
                  <td class="goal-table-actionCol">
                    <a mdbBtn floating="false" size="sm" color="primary" *ngIf="bundle.status == 'DRAFT'" title="Edit"
                      mdbWavesEffect (click)="edit(bundle)">
                      <mdb-icon fas icon="edit"></mdb-icon>
                    </a>
                    <a mdbBtn floating="false" size="sm" color="warning" title="Copy" mdbWavesEffect
                      (click)="copyPop(bundle)">
                      <mdb-icon fas icon="copy"></mdb-icon>
                    </a>
                    <a mdbBtn floating="true" size="sm" color="danger" *ngIf="bundle.status != 'OBSOLETED'"
                      title="Delete" mdbWavesEffect (click)="openModal(bundle)">
                      <mdb-icon fas icon="trash"></mdb-icon>
                    </a>
                  </td>
                </tr>
              </tbody>
              <!--Table body-->
              <div *ngIf="noDataFound"> {{ 'all-feature-bundle.noDataToDisplay' | translate }}. </div>
            </table>
          </div>

          <hr class="my-0">

          <!--Bottom Table UI-->
          <div class="d-flex justify-content-center">
            <!--Pagination -->
            <nav class="my-4 pt-2">
              <ul class="pagination pagination-circle pg-blue mb-0">

                <!--First-->
                <li class="page-item clearfix d-none d-md-block" (click)="firstPage()"
                  [ngClass]="{disabled: activePage == 1}">
                  <a class="page-link">First</a>
                </li>

                <!--Arrow left-->
                <li class="page-item" (click)="previousPage()" [ngClass]="{disabled: activePage == 1}">
                  <a class="page-link" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                    <span class="sr-only">Previous</span>
                  </a>
                </li>

                <!--Numbers-->
                <li #pages class="page-item" [ngClass]="{active: i + firstVisiblePaginator + 1 == activePage}"
                  *ngFor="let page of paginator | slice:firstVisiblePaginator:lastVisiblePaginator; let i = index">
                  <a class="page-link waves-light" (click)="changePage($event)" mdbWavesEffect>
                    {{ page }}
                  </a>
                </li>

                <!--Arrow right-->
                <li class="page-item" (click)="nextPage()" [ngClass]="{disabled: activePage == numberOfPages}">
                  <a class="page-link" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                  </a>
                </li>

                <!--First-->
                <li class="page-item clearfix d-none d-md-block" (click)="lastPage()"
                  [ngClass]="{disabled: activePage == numberOfPages}">
                  <a class="page-link">Last</a>
                </li>

              </ul>
            </nav>
            <!--/Pagination -->
          </div>
          <!--Bottom Table UI-->
        </div>
      </div>
    </div>
  </div>

  <hr class="my-5">
</div>



<div mdbModal #confirmCopy="mdbModal" class="modal fade top" id="frameModalTop" tabindex="-1" role="dialog"
  aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-notify modal-danger" role="document" *ngIf="bundleToCopy">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center">
        <p class="heading"> {{ 'all-feature-bundle.copyQuestion' | translate }} {{bundleToCopy.name}}?</p>
      </div>

      <!--Body-->
      <div class="modal-body">
        <i class="fa fa-copy fa-4x animated rotateIn"></i>
      </div>

      <!--Footer-->
      <div class="modal-footer justify-content-center">
        <a type="button" mdbBtn color="danger" outline="true" class="waves-effect" (click)="copyBundle(bundleToCopy)"
          mdbWavesEffect>
          {{ 'common.yes' | translate }}
        </a>
        <a type="button" mdbBtn color="danger" class="waves-effect" mdbWavesEffect data-dismiss="modal"
          (click)="confirmCopy.hide()">
          {{ 'common.no' | translate }}
        </a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>